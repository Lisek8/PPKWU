<!DOCTYPE html>
<!-- saved from url=(0022)http://localhost:8080/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
</head>
<body>
  <nav class="navbar navbar-dark bg-dark mb-3">
    <div class="container-fluid">
      <a class="navbar-brand" href="http://localhost:8080/#">PPKWU - Zad4</a>
    </div>
  </nav>
  <div class="container shadow p-3">
    <div class="row">
      <div class="col-sm-10">
        <input type="text" class="form-control" id="inputSearch" placeholder="Znajdź">
      </div>
      <div class="col-sm-2">
        <div type="submit" class="btn btn-primary mb-3" onclick="search()">Szukaj</div>
      </div>
    </div>
    <div class="content mt-3 p-3" id="content"><div class="mb-2 p-2 shadow-sm">
          <h4>Fhu Nypel Usługi Hydrauliczne Łukasz Szydliński</h4>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Address</div>
            <div class="col-auto">ul. Cieszkowskiego 4/27, 41-303 Dąbrowa Górnicza  śląskie</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">WWW</div>
            <div class="col-auto">http://Hydraulikdabrowagornicza.com</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Email</div>
            <div class="col-auto">brak</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Phone</div>
            <div class="col-auto">698095573</div>
          </div>
          <div class="p-2">
            <a href="https://maps.google.com/maps?&amp;ll=50.31829,19.23723">Map</a>
          </div>
          <a class="btn btn-primary" href="https://lisek8.github.io/PPKWU/Zadanie4/static/example.vcf">vCard</a>
          </div><div class="mb-2 p-2 shadow-sm">
          <h4>Hydraulika Montaż Instalacji Sanitarnych i Grzewczych Robert Rosłoniec</h4>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Address</div>
            <div class="col-auto">ul. Wierzbowa 12, 05-503 Robercin  mazowieckie</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">WWW</div>
            <div class="col-auto">http://www.uslugihydraulicznepiaseczno.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Email</div>
            <div class="col-auto">rrrobert@vp.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Phone</div>
            <div class="col-auto">501083795</div>
          </div>
          <div class="p-2">
            <a href="https://maps.google.com/maps?&amp;ll=52.05837,20.93709">Map</a>
          </div>
          <a class="btn btn-primary" href="https://lisek8.github.io/PPKWU/Zadanie4/static/example.vcf">vCard</a>
          </div><div class="mb-2 p-2 shadow-sm">
          <h4>Kamil Przęczek</h4>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Address</div>
            <div class="col-auto">32-020 Grabówki 12  małopolskie</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">WWW</div>
            <div class="col-auto">http://www.hydraulik-instalacje-krakow.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Email</div>
            <div class="col-auto">kamilprzeczek@interia.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Phone</div>
            <div class="col-auto">516765572</div>
          </div>
          <div class="p-2">
            <a href="https://maps.google.com/maps?&amp;ll=49.97393,20.02903">Map</a>
          </div>
          <a class="btn btn-primary" href="https://lisek8.github.io/PPKWU/Zadanie4/static/example.vcf">vCard</a>
          </div><div class="mb-2 p-2 shadow-sm">
          <h4>Adam Kołota Udrażnianie rur</h4>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Address</div>
            <div class="col-auto">ul. Zaciszna 30A, 05-230 Kobyłka  mazowieckie</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">WWW</div>
            <div class="col-auto">http://www.udraznianierurkobylka.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Email</div>
            <div class="col-auto">joanna-kolota@wp.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Phone</div>
            <div class="col-auto">781266854</div>
          </div>
          <div class="p-2">
            <a href="https://maps.google.com/maps?&amp;ll=52.34753,21.21709">Map</a>
          </div>
          <a class="btn btn-primary" href="https://lisek8.github.io/PPKWU/Zadanie4/static/example.vcf">vCard</a>
          </div><div class="mb-2 p-2 shadow-sm">
          <h4>Hydro Seb FU Sebastian Jeziorowski</h4>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Address</div>
            <div class="col-auto">ul. Mirowska  42-202 Częstochowa  śląskie</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">WWW</div>
            <div class="col-auto">http://www.hydraulik-zapchania.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Email</div>
            <div class="col-auto">hydroseb@op.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Phone</div>
            <div class="col-auto">502220475</div>
          </div>
          <div class="p-2">
            <a href="https://maps.google.com/maps?&amp;ll=50.81541,19.16467">Map</a>
          </div>
          <a class="btn btn-primary" href="https://lisek8.github.io/PPKWU/Zadanie4/static/example.vcf">vCard</a>
          </div><div class="mb-2 p-2 shadow-sm">
          <h4>Kaz-Bud Bramy, ogrodzenia, usługi hydrauliczne Kazimierz Kuzioła</h4>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Address</div>
            <div class="col-auto">24-220 Strzeszkowice Małe 3  lubelskie</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">WWW</div>
            <div class="col-auto">http://www.kaz-bud.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Email</div>
            <div class="col-auto">kaz.bud@wp.pl</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Phone</div>
            <div class="col-auto">669591968</div>
          </div>
          <div class="p-2">
            <a href="https://maps.google.com/maps?&amp;ll=51.1504,22.41841">Map</a>
          </div>
          <a class="btn btn-primary" href="https://lisek8.github.io/PPKWU/Zadanie4/static/example.vcf">vCard</a>
          </div>
  </div>

  <script>
    function search() {
      const proffession = escape(document.getElementById("inputSearch").value);
      document.getElementById("content").innerHTML = '';
      const Http = new XMLHttpRequest();
      Http.open("GET", `/search?proffession=${proffession}`);
      Http.send();

      Http.onreadystatechange = (e) => {
       const element = document.getElementById("content");
       const data = JSON.parse(Http.response);
       for (let company of data) {
         element.innerHTML += `<div class="mb-2 p-2 shadow-sm">
          <h4>${company.name}</h4>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Address</div>
            <div class="col-auto">${company.address}</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">WWW</div>
            <div class="col-auto">${company.www == null ? 'brak' : company.www}</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Email</div>
            <div class="col-auto">${company.email}</div>
          </div>
          <div class="row p-2">
            <div class="fw-bold col-sm-2">Phone</div>
            <div class="col-auto">${company.phoneArea != null && company.phoneArea !== 'brak' ? '(' + company.phoneArea + ')': ''}${company.phoneNumber}</div>
          </div>
          <div class="p-2">
            <a href="https://maps.google.com/maps?&ll=${company.location.lat},${company.location.lon}">Map</a>
          </div>
          <a class="btn btn-primary" href="/vCard?name=${escape(company.name)}&address=${escape(company.address)}&www=${escape(company.www)}&email=${escape(company.email)}&phoneArea=${escape(company.phoneArea)}&phoneNumber=${escape(company.phoneNumber)}&lat=${escape(company.location.lat)}&lon=${escape(company.location.lon)}">vCard</a>
          </div>`;
       }
      }
    }
  </script>

</body></html>